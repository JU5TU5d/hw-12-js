{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/fetchWeather.js","webpack:///./js/getGeoPosition.js","webpack:///./index.js","webpack:///./js/handlerWeather.js","webpack:///./templates/dataTemplate.hbs"],"names":["refs","weather","document","querySelector","spinner","searchForm","fetchWeather","query","querySearch","Promise","resolve","reject","classList","remove","fetch","proxy","then","response","ok","json","Error","statusText","data","error","PNotify","notice","title","info","text","add","htmlData","dataTepmlate","innerHTML","insertAdjacentHTML","catch","console","log","getGeoPosition","navigator","geolocation","getCurrentPosition","maximumAge","location","coords","latitude","longitude","success","delay","weatherData","createWeather","alert","addEventListener","event","preventDefault","submitValue","currentTarget","city","value","submitData","Handlebars","__webpack_require__","module","exports","template","compiler","main","container","depth0","helpers","partials","stack1","alias1","lambda","alias2","escapeExpression","name","current","weather_icons","weather_descriptions","region","temperature","humidity","wind_speed","useData"],"mappings":"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","file":"main.6eca35ea2bd57ef19d92.js","sourcesContent":["export default {\n  weather: document.querySelector('#weather'),\n  spinner: document.querySelector('#spinner'),\n  searchForm: document.querySelector('#search-form'),\n};\n","import refs from './refs';\nimport dataTepmlate from '../templates/dataTemplate.hbs';\n\nfunction fetchWeather(query) {\n  const baseUrl = 'http://api.weatherstack.com';\n  const proxy = 'https://cors-anywhere.herokuapp.com/';\n  const sectionUrl = '/current';\n  const access_key = '?access_key=41850987af7b6f6cb6c8cf07660f164d';\n  const querySearch = `&query=${query}`;\n\n  return new Promise((resolve, reject) => {\n    refs.spinner.classList.remove('is-hidden');\n    fetch(proxy + baseUrl + sectionUrl + access_key + querySearch)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error(response.statusText);\n      })\n      .then(data => {\n        //   console.log(data);\n        if (data.error) {\n          PNotify.notice({\n            title: `${data.error.info}`,\n            text: 'Ми не найшли цього міста, попробуйте ще раз!',\n          });\n          refs.spinner.classList.add('is-hidden');\n\n          return;\n        }\n        const htmlData = dataTepmlate(data);\n        refs.weather.innerHTML = '';\n        refs.weather.classList.remove('is-hidden');\n        refs.weather.insertAdjacentHTML('beforeend', htmlData);\n        refs.spinner.classList.add('is-hidden');\n      })\n      .catch(error => console.log(error));\n  });\n}\n\nexport default fetchWeather;\n","import fetchWeather from './fetchWeather';\n\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport 'pnotify/dist/PNotifyBrightTheme.css';\n\n// Показувати погоду використовуючи геодані, після надання доступу юзером\nfunction getGeoPosition() {\n  return new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(resolve, reject, {\n      maximumAge: 1800000,\n    });\n  });\n}\n\ngetGeoPosition()\n  .then(location => `${location.coords.latitude}, ${location.coords.longitude}`)\n  .then(data => {\n    // console.log(data + ' data');\n    PNotify.success({\n      text: 'Права доступа до геоданих надані!',\n      delay: 2000,\n    });\n    return fetchWeather(data);\n  })\n  .then(weatherData => {\n    // console.log(weatherData + ' weatherData');\n    createWeather(weatherData);\n  })\n  .catch(error => {\n    PNotify.alert({\n      text:\n        'Сайт не має доступу до геоданих, використайте пошук по імені міста.',\n      delay: 2000,\n    });\n  });\n\nexport default getGeoPosition;\n","import './styles.css';\nimport './spinner.css';\n\nimport refs from './js/refs';\nimport handlerWeather from \"./js/handlerWeather\"\nimport getGeoPosition from './js/getGeoPosition';\n\nimport 'pnotify/dist/PNotifyBrightTheme.css';\n\n\n// import getGeoPosition from './js/getGeoPosition'\n\n\n\nrefs.searchForm.addEventListener('submit', handlerWeather);\n","import fetchWeather from './fetchWeather';\n\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport 'pnotify/dist/PNotifyBrightTheme.css';\n\nexport default function handlerWeather(event) {\n  event.preventDefault();\n  const submitValue = event.currentTarget.city.value;\n  console.log(submitValue);\n\n  fetchWeather(submitValue)\n    .then(submitData => {\n      fetchWeather(submitData);\n      // console.log(submitData);\n    })\n    .catch(error => {\n      PNotify.error({\n        text: 'По Вашому запиту нічього не знайдено! Попробуйте ще раз).',\n        delay: 2000,\n      });\n    });\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<h2 class=\\\"title\\\">TODAY in \"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.name : stack1), depth0))\n    + \" </h2>\\n<img class=\\\"icon\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_icons : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_descriptions : stack1), depth0))\n    + \"\\\" />\\n\\n<div class=\\\"info-weather\\\">\\n  <p>Location: <span data-field=\\\"location\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.name : stack1), depth0))\n    + \", \"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.region : stack1), depth0))\n    + \"</span></p>\\n  <p>Temperature: <span data-field=\\\"temp\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.temperature : stack1), depth0))\n    + \"&#8451;</span></p>\\n  <p>Humidity: <span data-field=\\\"humidity\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.humidity : stack1), depth0))\n    + \"</span></p>\\n  <p>Wind: <span data-field=\\\"wind\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.wind_speed : stack1), depth0))\n    + \"kph</span></p>\\n  <p>Conditions: <span data-field=\\\"conditions\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_descriptions : stack1), depth0))\n    + \"</span></p>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}